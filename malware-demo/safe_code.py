#!/usr/bin/env python3
"""
Demo Safe Code Sample - Low Risk
This file demonstrates generally safe code with minor issues
"""


import os
import json
import datetime

def read_config(filename):
    """Read configuration from JSON file"""
    try:
        with open(filename, 'r') as f:
            return json.load(f)
    except FileNotFoundError:
        return {"default": "value"}
    except json.JSONDecodeError:
        return {}

def get_current_time():
    """Get current timestamp"""
    return datetime.datetime.now().isoformat()

def calculate_sum(numbers):
    """Calculate sum of numbers"""
    total = 0
    for num in numbers:
        total += num
    return total

def write_log(message, logfile="app.log"):
    """Write message to log file"""
    try:
        timestamp = get_current_time()
        with open(logfile, 'a') as f:
            f.write(f"[{timestamp}] {message}\n")
    except:
        pass  # Silently fail logging

def main():
    print("ğŸŸ¢ Safe Code Demo Starting...")


    # Read configuration
    config = read_config("config.json")
    print(f"ğŸ“– Config loaded: {len(config)} keys")

    # Calculate something
    numbers = [1, 2, 3, 4, 5]
    result = calculate_sum(numbers)
    print(f"ğŸ”¢ Sum calculated: {result}")

    # Log the result
    write_log(f"Calculation result: {result}")

    # Get current time
    current_time = get_current_time()
    print(f"ğŸ• Current time: {current_time}")

    print("âœ… Safe code execution complete")

if __name__ == "__main__":
    main()